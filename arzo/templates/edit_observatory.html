{% extends "base_observatory.html" %}

{% block content %}
{% if form.errors %}    
    <div class="alert alert-danger alert-dismissable">
        <button class="close" aria-hidden="true" data-dismiss="alert" type="button">×</button>
        <ul>
        {% for error in form.errors %}
            <li>{{error}}</li>
        {% endfor %}
        </ul>
    </div>
{% endif %}
<form method="post" action="">
    {{ form.csrf_token }}
    <div class="row">
        <div class="col-md-6">
            <div class="box box-info">
                <div class="box-header">
                    <h3 class="box-title">Informations générales</h3>
                </div>
                <div class="box-body">
                    <div class="form-group">
                        {{form.name.label}}
                        {{form.name(class_="form-control")}}
                    </div>
                    <div class="form-group">
                        {{form.description.label}}
                        {{form.description(class_="form-control")}}
                    </div>
                    <div class="form-group">
                        {{form.selected.label}}
                        {{form.selected(class_="form-control")}}
                    </div>
                </div>
            </div>
            <div class="box box-info">
                <div class="box-header">
                    <h3 class="box-title">Heures</h3>
                </div>
                <div class="box-body">
                    <div class="row">
                        <div class="col-md-6">
                            <span id="local_time"></span>
                        </div>
                        <div class="col-md-6">
                            <span id="local_time"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box box-info">
                <div class="box-header">
                    <h3 class="box-title">Météo actuelle</h3>
                </div>
                <div class="box-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div id="weather" class="meteocon"></div>
                        </div>
                        <div class="col-md-8">
                            <div id="weather-description"></div>
                            <div class="weather-infos">
                                <span class="meteocon meteocon-thermometer"></span>
                                <span class="weather-infos-label">Température :</span>
                                <span id="temp"></span>
                            </div>
                            <div class="weather-infos">
                                <span class="meteocon meteocon-compas"></span>
                                <span class="weather-infos-label">Vent :</span>
                                <span id="wind_speed"></span>
                            </div>
                            <div class="weather-infos">
                                <span class="fa fa-tint"></span>
                                <span class="weather-infos-label">Humidité :</span>
                                <span id="humidity"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="box box-info">
                <div class="box-header">
                    <h3 class="box-title">Localisation</h3>
                </div>
                <div class="box-body">
                    <div id="map" style="height:300px;"></div>
                    <div class="form-group">
                        {{form.altitude.label}}
                        {{form.altitude(class_="form-control")}}
                    </div>
                    <div class="form-group">
                        {{form.latitude.label}}
                        {{form.latitude(class_="form-control")}}
                    </div>
                    <div class="form-group">
                        {{form.longitude.label}}
                        {{form.longitude(class_="form-control")}}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button class="btn btn-primary" type="submit">Valider</button>
</form>
{% endblock %}
